import type {
  ExtractionRun,
  CandidateMetric,
  ExtractionStatus,
  CandidateStatus,
} from "@/types/platform";

// ===== EXTRACTION RUNS =====
// Each run is linked to an ingestion job and a source document.
// Entity names are aligned with the institutions mock data.

export const extractionRuns: ExtractionRun[] = [
  {
    id: "ext-001",
    ingestion_job_id: "ingest-001",
    source_document_id: "doc-001",
    source_document_name: "IPEDS Data Tables 2024",
    method: "ai_llm",
    status: "completed",
    started_at: "2024-09-15T11:00:00Z",
    completed_at: "2024-09-15T11:04:32Z",
    total_candidates: 14,
    matched_to_glossary: 12,
    unmatched: 2,
    confidence_avg: 0.87,
    entity_name: "SUNY Buffalo",
  },
  {
    id: "ext-002",
    ingestion_job_id: "ingest-002",
    source_document_id: "doc-002",
    source_document_name: "Annual Financial Report FY2024",
    method: "hybrid",
    status: "completed",
    started_at: "2024-09-15T12:10:00Z",
    completed_at: "2024-09-15T12:15:47Z",
    total_candidates: 10,
    matched_to_glossary: 8,
    unmatched: 2,
    confidence_avg: 0.82,
    entity_name: "SUNY Buffalo",
  },
  {
    id: "ext-003",
    ingestion_job_id: "ingest-003",
    source_document_id: "doc-003",
    source_document_name: "Common Data Set UT Austin",
    method: "rule_based",
    status: "completed",
    started_at: "2024-09-16T08:30:00Z",
    completed_at: "2024-09-16T08:33:15Z",
    total_candidates: 18,
    matched_to_glossary: 15,
    unmatched: 3,
    confidence_avg: 0.91,
    entity_name: "UT Austin",
  },
  {
    id: "ext-004",
    ingestion_job_id: "ingest-004",
    source_document_id: "doc-004",
    source_document_name: "Research Expenditure Summary",
    method: "ai_llm",
    status: "completed",
    started_at: "2024-09-16T10:00:00Z",
    completed_at: "2024-09-16T10:02:58Z",
    total_candidates: 7,
    matched_to_glossary: 5,
    unmatched: 2,
    confidence_avg: 0.78,
    entity_name: "UT Austin",
  },
  {
    id: "ext-005",
    ingestion_job_id: "ingest-005",
    source_document_id: "doc-005",
    source_document_name: "IPEDS Ohio State",
    method: "ai_llm",
    status: "in_progress",
    started_at: "2024-09-17T09:15:00Z",
    total_candidates: 8,
    matched_to_glossary: 3,
    unmatched: 5,
    confidence_avg: 0.65,
    entity_name: "Ohio State",
  },
  {
    id: "ext-006",
    ingestion_job_id: "ingest-006",
    source_document_id: "doc-006",
    source_document_name: "Board Presentation Q4",
    method: "hybrid",
    status: "needs_review",
    started_at: "2024-09-17T14:00:00Z",
    completed_at: "2024-09-17T14:03:21Z",
    total_candidates: 6,
    matched_to_glossary: 4,
    unmatched: 2,
    confidence_avg: 0.72,
    entity_name: "U of M",
  },
  {
    id: "ext-007",
    ingestion_job_id: "ingest-008",
    source_document_id: "doc-007",
    source_document_name: "Enrollment Data Fall 2024",
    method: "template_match",
    status: "completed",
    started_at: "2024-09-18T07:45:00Z",
    completed_at: "2024-09-18T07:47:10Z",
    total_candidates: 9,
    matched_to_glossary: 6,
    unmatched: 3,
    confidence_avg: 0.88,
    entity_name: "UC Berkeley",
  },
  {
    id: "ext-008",
    ingestion_job_id: "ingest-010",
    source_document_id: "doc-008",
    source_document_name: "Penn State Manual Entry",
    method: "rule_based",
    status: "completed",
    started_at: "2024-09-18T10:30:00Z",
    completed_at: "2024-09-18T10:31:05Z",
    total_candidates: 3,
    matched_to_glossary: 3,
    unmatched: 0,
    confidence_avg: 0.95,
    entity_name: "Penn State",
  },
];

// ===== CANDIDATE METRICS =====
// Candidates are the raw metric values extracted from source documents.
// They are matched (or not) against the glossary metric definitions.
// Metric IDs here use the "M_" prefix to reference canonical glossary entries
// (distinct from the presentation-layer metric IDs in metrics.ts).

export const candidateMetrics: CandidateMetric[] = [
  // ---------------------------------------------------------------
  // ext-001: IPEDS Data Tables 2024 — SUNY Buffalo (14 candidates)
  // ---------------------------------------------------------------
  {
    id: "cand-001",
    extraction_run_id: "ext-001",
    raw_text: "Total enrollment headcount: 32,347",
    raw_value: "32347",
    matched_metric_id: "M_ENROLLMENT_TOTAL",
    matched_metric_name: "Total Fall Enrollment",
    match_confidence: 0.95,
    dimension_values: { fiscal_year: "2024", term: "fall" },
    source_page: 3,
    source_context:
      "Table 1 — Enrollment Summary. Total enrollment headcount: 32,347. This figure includes all degree-seeking and non-degree students enrolled as of the official census date.",
    status: "confirmed",
    reviewer_id: "user-001",
    reviewed_at: "2024-09-15T15:00:00Z",
  },
  {
    id: "cand-002",
    extraction_run_id: "ext-001",
    raw_text: "Full-time equivalent enrollment: 28,500",
    raw_value: "28500",
    matched_metric_id: "M_ENROLLMENT_TOTAL",
    matched_metric_name: "Total Fall Enrollment",
    match_confidence: 0.72,
    dimension_values: { fiscal_year: "2024", enrollment_basis: "FTE" },
    source_page: 3,
    source_context:
      "Full-time equivalent enrollment: 28,500. Note: FTE is calculated using IPEDS methodology where part-time students are weighted at one-third.",
    status: "manual_review",
  },
  {
    id: "cand-003",
    extraction_run_id: "ext-001",
    raw_text: "First-time freshman retention: 88%",
    raw_value: "88",
    matched_metric_id: "M_RETENTION_FY",
    matched_metric_name: "First-Year Retention Rate",
    match_confidence: 0.92,
    dimension_values: { fiscal_year: "2024", cohort: "first-time full-time" },
    source_page: 5,
    source_context:
      "Retention and Persistence Indicators. First-time freshman retention: 88%. The cohort includes all first-time, full-time bachelor's degree-seeking students from Fall 2023.",
    status: "auto_matched",
  },
  {
    id: "cand-004",
    extraction_run_id: "ext-001",
    raw_text: "Six-year graduation rate: 75%",
    raw_value: "75",
    matched_metric_id: "M_GRADUATION_6YR",
    matched_metric_name: "Six-Year Graduation Rate",
    match_confidence: 0.94,
    dimension_values: { fiscal_year: "2024", cohort: "2018 entering class" },
    source_page: 6,
    source_context:
      "Completion Outcomes. Six-year graduation rate: 75%. This represents the percentage of the Fall 2018 first-time, full-time cohort who completed a bachelor's degree within 150% of normal time.",
    status: "auto_matched",
  },
  {
    id: "cand-005",
    extraction_run_id: "ext-001",
    raw_text: "Total R&D expenditures: $456M",
    raw_value: "456000000",
    matched_metric_id: "M_RESEARCH_EXPENDITURE",
    matched_metric_name: "Research Expenditures",
    match_confidence: 0.88,
    dimension_values: { fiscal_year: "2024" },
    source_page: 8,
    source_context:
      "Research Activity. Total R&D expenditures: $456M. Includes federally-financed and institutionally-financed research and development activities as reported on the HERD Survey.",
    status: "auto_matched",
  },
  {
    id: "cand-006",
    extraction_run_id: "ext-001",
    raw_text: "Full-time instructional faculty: 1,847",
    raw_value: "1847",
    matched_metric_id: "M_FACULTY_TOTAL",
    matched_metric_name: "Full-Time Faculty",
    match_confidence: 0.85,
    dimension_values: { fiscal_year: "2024", appointment_type: "full-time" },
    source_page: 10,
    source_context:
      "Faculty Resources. Full-time instructional faculty: 1,847. Includes all full-time faculty whose primary responsibility is instruction.",
    status: "auto_matched",
  },
  {
    id: "cand-007",
    extraction_run_id: "ext-001",
    raw_text: "Student-to-faculty ratio: 14:1",
    raw_value: "14",
    matched_metric_id: "M_STUDENT_FACULTY_RATIO",
    matched_metric_name: "Student-to-Faculty Ratio",
    match_confidence: 0.91,
    dimension_values: { fiscal_year: "2024" },
    source_page: 10,
    source_context:
      "Student-to-faculty ratio: 14:1 based on FTE enrollment of 28,500 and FTE instructional faculty of 2,036.",
    status: "auto_matched",
  },
  {
    id: "cand-008",
    extraction_run_id: "ext-001",
    raw_text: "Undergraduate enrollment: 21,607",
    raw_value: "21607",
    matched_metric_id: "M_ENROLLMENT_UNDERGRAD",
    matched_metric_name: "Undergraduate Enrollment",
    match_confidence: 0.93,
    dimension_values: { fiscal_year: "2024", student_level: "undergraduate", term: "fall" },
    source_page: 3,
    source_context:
      "Enrollment by Level. Undergraduate enrollment: 21,607. Graduate enrollment: 10,740.",
    status: "auto_matched",
  },
  {
    id: "cand-009",
    extraction_run_id: "ext-001",
    raw_text: "Graduate enrollment: 10,740",
    raw_value: "10740",
    matched_metric_id: "M_ENROLLMENT_GRAD",
    matched_metric_name: "Graduate Enrollment",
    match_confidence: 0.93,
    dimension_values: { fiscal_year: "2024", student_level: "graduate", term: "fall" },
    source_page: 3,
    source_context:
      "Enrollment by Level. Undergraduate enrollment: 21,607. Graduate enrollment: 10,740.",
    status: "auto_matched",
  },
  {
    id: "cand-010",
    extraction_run_id: "ext-001",
    raw_text: "Four-year graduation rate: 58%",
    raw_value: "58",
    matched_metric_id: "M_GRADUATION_4YR",
    matched_metric_name: "Four-Year Graduation Rate",
    match_confidence: 0.90,
    dimension_values: { fiscal_year: "2024", cohort: "2020 entering class" },
    source_page: 6,
    source_context:
      "Four-year graduation rate: 58%. Based on the Fall 2020 first-time, full-time bachelor's cohort completing within 100% of normal time.",
    status: "auto_matched",
  },
  {
    id: "cand-011",
    extraction_run_id: "ext-001",
    raw_text: "Acceptance rate: 56%",
    raw_value: "56",
    matched_metric_id: "M_ACCEPTANCE_RATE",
    matched_metric_name: "Acceptance Rate",
    match_confidence: 0.89,
    dimension_values: { fiscal_year: "2024" },
    source_page: 4,
    source_context:
      "Admissions. Of 39,188 applicants, 21,945 were admitted. Acceptance rate: 56%.",
    status: "auto_matched",
  },
  {
    id: "cand-012",
    extraction_run_id: "ext-001",
    raw_text: "Average net price: $16,240",
    raw_value: "16240",
    matched_metric_id: "M_NET_PRICE_AVG",
    matched_metric_name: "Average Net Price",
    match_confidence: 0.83,
    dimension_values: { fiscal_year: "2024", income_bracket: "all" },
    source_page: 12,
    source_context:
      "Student Financial Aid. Average net price: $16,240. This represents the average cost of attendance minus grant and scholarship aid for first-time, full-time undergraduates.",
    status: "auto_matched",
  },
  {
    id: "cand-013",
    extraction_run_id: "ext-001",
    raw_text: "Federal Pell Grant recipients: 31%",
    raw_value: "31",
    matched_metric_id: undefined,
    matched_metric_name: undefined,
    match_confidence: 0.42,
    dimension_values: { fiscal_year: "2024" },
    source_page: 12,
    source_context:
      "Financial Aid Demographics. Federal Pell Grant recipients: 31% of enrolled undergraduates received federal Pell Grant funding.",
    status: "rejected",
    reviewer_id: "user-001",
    reviewed_at: "2024-09-15T16:30:00Z",
  },
  {
    id: "cand-014",
    extraction_run_id: "ext-001",
    raw_text: "Institutional grant aid total: $189M",
    raw_value: "189000000",
    matched_metric_id: undefined,
    matched_metric_name: undefined,
    match_confidence: 0.38,
    dimension_values: { fiscal_year: "2024" },
    source_page: 13,
    source_context:
      "Institutional Support. Total institutional grant aid disbursed: $189M, representing a 4.2% increase over the prior year.",
    status: "rejected",
    reviewer_id: "user-001",
    reviewed_at: "2024-09-15T16:32:00Z",
  },

  // ---------------------------------------------------------------
  // ext-002: Annual Financial Report FY2024 — SUNY Buffalo (10 candidates)
  // ---------------------------------------------------------------
  {
    id: "cand-015",
    extraction_run_id: "ext-002",
    raw_text: "Total Operating Revenue: $1.89B",
    raw_value: "1890000000",
    matched_metric_id: "M_REVENUE_TOTAL",
    matched_metric_name: "Total Operating Revenue",
    match_confidence: 0.91,
    dimension_values: { fiscal_year: "2024" },
    source_page: 15,
    source_context:
      "Statement of Revenues, Expenses, and Changes in Net Position. Total Operating Revenue: $1.89B for the fiscal year ended June 30, 2024.",
    status: "confirmed",
    reviewer_id: "user-002",
    reviewed_at: "2024-09-16T09:00:00Z",
  },
  {
    id: "cand-016",
    extraction_run_id: "ext-002",
    raw_text: "Net tuition and fees: $423M",
    raw_value: "423000000",
    matched_metric_id: "M_TUITION_NET",
    matched_metric_name: "Net Tuition Revenue",
    match_confidence: 0.88,
    dimension_values: { fiscal_year: "2024" },
    source_page: 16,
    source_context:
      "Revenue Detail. Net tuition and fees: $423M after deducting scholarship allowances of $187M from gross tuition of $610M.",
    status: "auto_matched",
  },
  {
    id: "cand-017",
    extraction_run_id: "ext-002",
    raw_text: "Endowment market value: $1.2B",
    raw_value: "1200000000",
    matched_metric_id: "M_ENDOWMENT_VALUE",
    matched_metric_name: "Endowment Market Value",
    match_confidence: 0.85,
    dimension_values: { fiscal_year: "2024" },
    source_page: 28,
    source_context:
      "Note 8 — Endowment. The endowment market value as of June 30, 2024 was $1.2B, an increase of 9.8% over the prior year.",
    status: "auto_matched",
  },
  {
    id: "cand-018",
    extraction_run_id: "ext-002",
    raw_text: "Auxiliary enterprise revenue: $312M",
    raw_value: "312000000",
    matched_metric_id: "M_AUXILIARY_REVENUE",
    matched_metric_name: "Auxiliary Enterprise Revenue",
    match_confidence: 0.80,
    dimension_values: { fiscal_year: "2024" },
    source_page: 17,
    source_context:
      "Auxiliary enterprise revenue: $312M. This includes housing ($142M), dining ($89M), parking ($28M), and other auxiliary operations ($53M).",
    status: "auto_matched",
  },
  {
    id: "cand-019",
    extraction_run_id: "ext-002",
    raw_text: "Auxiliary margin: 12.3%",
    raw_value: "12.3",
    matched_metric_id: "M_AUXILIARY_MARGIN",
    matched_metric_name: "Auxiliary Services Margin",
    match_confidence: 0.79,
    dimension_values: { fiscal_year: "2024" },
    source_page: 17,
    source_context:
      "Auxiliary operations generated a net margin of 12.3%, down from 14.1% in the prior year due to increased labor and supply costs.",
    status: "manual_review",
  },
  {
    id: "cand-020",
    extraction_run_id: "ext-002",
    raw_text: "State appropriations: $289M",
    raw_value: "289000000",
    matched_metric_id: "M_STATE_APPROPRIATIONS",
    matched_metric_name: "State Appropriations",
    match_confidence: 0.86,
    dimension_values: { fiscal_year: "2024" },
    source_page: 16,
    source_context:
      "State appropriations: $289M. Represents an increase of 3.5% over the prior year state operating support allocation.",
    status: "auto_matched",
  },
  {
    id: "cand-021",
    extraction_run_id: "ext-002",
    raw_text: "Total operating expenses: $1.76B",
    raw_value: "1760000000",
    matched_metric_id: "M_EXPENSES_TOTAL",
    matched_metric_name: "Total Operating Expenses",
    match_confidence: 0.87,
    dimension_values: { fiscal_year: "2024" },
    source_page: 18,
    source_context:
      "Total operating expenses: $1.76B. Instruction and academic support accounted for 52% of total operating expenses.",
    status: "auto_matched",
  },
  {
    id: "cand-022",
    extraction_run_id: "ext-002",
    raw_text: "Debt service coverage ratio: 2.4x",
    raw_value: "2.4",
    matched_metric_id: "M_DEBT_SERVICE_COVERAGE",
    matched_metric_name: "Debt Service Coverage Ratio",
    match_confidence: 0.74,
    dimension_values: { fiscal_year: "2024" },
    source_page: 32,
    source_context:
      "The University's debt service coverage ratio was 2.4x for the year, compared to the bond covenant minimum of 1.1x.",
    status: "manual_review",
  },
  {
    id: "cand-023",
    extraction_run_id: "ext-002",
    raw_text: "Composite Financial Index: 4.1",
    raw_value: "4.1",
    matched_metric_id: undefined,
    matched_metric_name: undefined,
    match_confidence: 0.35,
    dimension_values: { fiscal_year: "2024" },
    source_page: 35,
    source_context:
      "Management Discussion and Analysis. The Composite Financial Index for the University was 4.1, placing it within the financially healthy range.",
    status: "rejected",
    reviewer_id: "user-002",
    reviewed_at: "2024-09-16T10:45:00Z",
  },
  {
    id: "cand-024",
    extraction_run_id: "ext-002",
    raw_text: "Unrestricted net assets: $648M",
    raw_value: "648000000",
    matched_metric_id: undefined,
    matched_metric_name: undefined,
    match_confidence: 0.41,
    dimension_values: { fiscal_year: "2024" },
    source_page: 20,
    source_context:
      "Net Position. Unrestricted net assets: $648M. Restricted nonexpendable: $890M. Restricted expendable: $342M.",
    status: "rejected",
    reviewer_id: "user-002",
    reviewed_at: "2024-09-16T10:47:00Z",
  },

  // ---------------------------------------------------------------
  // ext-003: Common Data Set UT Austin (18 candidates — showing all)
  // ---------------------------------------------------------------
  {
    id: "cand-025",
    extraction_run_id: "ext-003",
    raw_text: "Total undergraduate enrollment: 40,804",
    raw_value: "40804",
    matched_metric_id: "M_ENROLLMENT_UNDERGRAD",
    matched_metric_name: "Undergraduate Enrollment",
    match_confidence: 0.96,
    dimension_values: { fiscal_year: "2024", student_level: "undergraduate", term: "fall" },
    source_page: 2,
    source_context:
      "Section B — Enrollment. Total undergraduate enrollment: 40,804 (degree-seeking and non-degree). Full-time: 38,192; Part-time: 2,612.",
    status: "confirmed",
    reviewer_id: "user-001",
    reviewed_at: "2024-09-16T11:00:00Z",
  },
  {
    id: "cand-026",
    extraction_run_id: "ext-003",
    raw_text: "Total graduate enrollment: 11,438",
    raw_value: "11438",
    matched_metric_id: "M_ENROLLMENT_GRAD",
    matched_metric_name: "Graduate Enrollment",
    match_confidence: 0.96,
    dimension_values: { fiscal_year: "2024", student_level: "graduate", term: "fall" },
    source_page: 2,
    source_context:
      "Graduate and professional enrollment: 11,438. Includes 8,921 graduate and 2,517 professional students.",
    status: "auto_matched",
  },
  {
    id: "cand-027",
    extraction_run_id: "ext-003",
    raw_text: "Total enrollment: 52,242",
    raw_value: "52242",
    matched_metric_id: "M_ENROLLMENT_TOTAL",
    matched_metric_name: "Total Fall Enrollment",
    match_confidence: 0.97,
    dimension_values: { fiscal_year: "2024", term: "fall" },
    source_page: 2,
    source_context:
      "Grand total enrollment: 52,242 as of the official reporting date in Fall 2024.",
    status: "auto_matched",
  },
  {
    id: "cand-028",
    extraction_run_id: "ext-003",
    raw_text: "First-year retention rate: 96%",
    raw_value: "96",
    matched_metric_id: "M_RETENTION_FY",
    matched_metric_name: "First-Year Retention Rate",
    match_confidence: 0.95,
    dimension_values: { fiscal_year: "2024", cohort: "first-time full-time" },
    source_page: 8,
    source_context:
      "Section B4 — Retention. Percentage of the Fall 2023 entering cohort returning in Fall 2024: 96%.",
    status: "auto_matched",
  },
  {
    id: "cand-029",
    extraction_run_id: "ext-003",
    raw_text: "Six-year graduation rate: 87%",
    raw_value: "87",
    matched_metric_id: "M_GRADUATION_6YR",
    matched_metric_name: "Six-Year Graduation Rate",
    match_confidence: 0.94,
    dimension_values: { fiscal_year: "2024", cohort: "2018 entering class" },
    source_page: 9,
    source_context:
      "Six-year graduation rate for bachelor's students: 87%. This rate is for the Fall 2018 entering cohort.",
    status: "auto_matched",
  },
  {
    id: "cand-030",
    extraction_run_id: "ext-003",
    raw_text: "Four-year graduation rate: 72%",
    raw_value: "72",
    matched_metric_id: "M_GRADUATION_4YR",
    matched_metric_name: "Four-Year Graduation Rate",
    match_confidence: 0.93,
    dimension_values: { fiscal_year: "2024", cohort: "2020 entering class" },
    source_page: 9,
    source_context:
      "Four-year graduation rate: 72% of the Fall 2020 first-time, full-time cohort completed a degree within four years.",
    status: "auto_matched",
  },
  {
    id: "cand-031",
    extraction_run_id: "ext-003",
    raw_text: "Student-to-faculty ratio: 17:1",
    raw_value: "17",
    matched_metric_id: "M_STUDENT_FACULTY_RATIO",
    matched_metric_name: "Student-to-Faculty Ratio",
    match_confidence: 0.92,
    dimension_values: { fiscal_year: "2024" },
    source_page: 12,
    source_context:
      "Section I — Instructional Faculty. Student-to-faculty ratio: 17:1 (based on common CDS definitions for FTE students and FTE faculty).",
    status: "auto_matched",
  },
  {
    id: "cand-032",
    extraction_run_id: "ext-003",
    raw_text: "Full-time instructional faculty: 2,895",
    raw_value: "2895",
    matched_metric_id: "M_FACULTY_TOTAL",
    matched_metric_name: "Full-Time Faculty",
    match_confidence: 0.90,
    dimension_values: { fiscal_year: "2024", appointment_type: "full-time" },
    source_page: 12,
    source_context:
      "Total number of instructional faculty: 3,420. Full-time: 2,895. Part-time: 525.",
    status: "auto_matched",
  },
  {
    id: "cand-033",
    extraction_run_id: "ext-003",
    raw_text: "Applications received: 65,792",
    raw_value: "65792",
    matched_metric_id: "M_APPLICATIONS",
    matched_metric_name: "Applications Received",
    match_confidence: 0.88,
    dimension_values: { fiscal_year: "2024", student_level: "undergraduate" },
    source_page: 4,
    source_context:
      "Section C — First-Time Freshmen. Total applications received: 65,792. Applications admitted: 19,737.",
    status: "auto_matched",
  },
  {
    id: "cand-034",
    extraction_run_id: "ext-003",
    raw_text: "Acceptance rate: 30%",
    raw_value: "30",
    matched_metric_id: "M_ACCEPTANCE_RATE",
    matched_metric_name: "Acceptance Rate",
    match_confidence: 0.91,
    dimension_values: { fiscal_year: "2024" },
    source_page: 4,
    source_context:
      "Percent admitted: 30%. Of the 65,792 applications received, 19,737 students were offered admission.",
    status: "auto_matched",
  },
  {
    id: "cand-035",
    extraction_run_id: "ext-003",
    raw_text: "Average net price: $13,820",
    raw_value: "13820",
    matched_metric_id: "M_NET_PRICE_AVG",
    matched_metric_name: "Average Net Price",
    match_confidence: 0.85,
    dimension_values: { fiscal_year: "2024", residency: "in-state" },
    source_page: 14,
    source_context:
      "Section H — Financial Aid. Average net price for in-state students: $13,820 after institutional grants and scholarships.",
    status: "auto_matched",
  },
  {
    id: "cand-036",
    extraction_run_id: "ext-003",
    raw_text: "Percent classes under 20 students: 38%",
    raw_value: "38",
    matched_metric_id: "M_CLASS_SIZE_UNDER20",
    matched_metric_name: "Classes Under 20 Students",
    match_confidence: 0.87,
    dimension_values: { fiscal_year: "2024" },
    source_page: 13,
    source_context:
      "Section I — Class Size. Percent of class sections with fewer than 20 students: 38%. Sections with 50 or more: 18%.",
    status: "auto_matched",
  },
  {
    id: "cand-037",
    extraction_run_id: "ext-003",
    raw_text: "Enrolled freshmen: 8,576",
    raw_value: "8576",
    matched_metric_id: "M_FRESHMEN_ENROLLED",
    matched_metric_name: "Enrolled Freshmen",
    match_confidence: 0.86,
    dimension_values: { fiscal_year: "2024", student_level: "freshman" },
    source_page: 5,
    source_context:
      "Enrolled freshmen: 8,576 from the admitted pool of 19,737, representing a yield rate of 43%.",
    status: "auto_matched",
  },
  {
    id: "cand-038",
    extraction_run_id: "ext-003",
    raw_text: "Transfer enrollment: 3,215",
    raw_value: "3215",
    matched_metric_id: undefined,
    matched_metric_name: undefined,
    match_confidence: 0.48,
    dimension_values: { fiscal_year: "2024" },
    source_page: 6,
    source_context:
      "Section D — Transfer Students. Number of transfer applicants who enrolled: 3,215.",
    status: "rejected",
    reviewer_id: "user-001",
    reviewed_at: "2024-09-16T14:00:00Z",
  },
  {
    id: "cand-039",
    extraction_run_id: "ext-003",
    raw_text: "SAT middle 50%: 1250–1470",
    raw_value: "1250-1470",
    matched_metric_id: undefined,
    matched_metric_name: undefined,
    match_confidence: 0.44,
    dimension_values: { fiscal_year: "2024" },
    source_page: 5,
    source_context:
      "Section C7 — SAT/ACT Scores. SAT Evidence-Based Reading and Writing + Math composite middle 50%: 1250–1470.",
    status: "rejected",
    reviewer_id: "user-001",
    reviewed_at: "2024-09-16T14:02:00Z",
  },
  {
    id: "cand-040",
    extraction_run_id: "ext-003",
    raw_text: "International students: 12%",
    raw_value: "12",
    matched_metric_id: undefined,
    matched_metric_name: undefined,
    match_confidence: 0.40,
    dimension_values: { fiscal_year: "2024" },
    source_page: 3,
    source_context:
      "Non-resident aliens constitute 12% of total enrollment. The majority come from China, India, and South Korea.",
    status: "rejected",
    reviewer_id: "user-001",
    reviewed_at: "2024-09-16T14:05:00Z",
  },

  // ---------------------------------------------------------------
  // ext-004: Research Expenditure Summary — UT Austin (7 candidates)
  // ---------------------------------------------------------------
  {
    id: "cand-041",
    extraction_run_id: "ext-004",
    raw_text: "Total R&D expenditures: $783M",
    raw_value: "783000000",
    matched_metric_id: "M_RESEARCH_EXPENDITURE",
    matched_metric_name: "Research Expenditures",
    match_confidence: 0.93,
    dimension_values: { fiscal_year: "2024" },
    source_page: 1,
    source_context:
      "Research Overview FY2024. Total R&D expenditures: $783M. This represents a 6.2% increase over the prior fiscal year.",
    status: "confirmed",
    reviewer_id: "user-001",
    reviewed_at: "2024-09-16T11:30:00Z",
  },
  {
    id: "cand-042",
    extraction_run_id: "ext-004",
    raw_text: "Federal research funding: $412M",
    raw_value: "412000000",
    matched_metric_id: "M_RESEARCH_FEDERAL",
    matched_metric_name: "Federal Research Funding",
    match_confidence: 0.82,
    dimension_values: { fiscal_year: "2024", funding_source: "federal" },
    source_page: 2,
    source_context:
      "Funding Sources. Federal research funding: $412M representing 52.6% of total R&D. Primary agencies include NIH ($178M), NSF ($89M), and DOE ($67M).",
    status: "auto_matched",
  },
  {
    id: "cand-043",
    extraction_run_id: "ext-004",
    raw_text: "Institutional research funding: $198M",
    raw_value: "198000000",
    matched_metric_id: "M_RESEARCH_INSTITUTIONAL",
    matched_metric_name: "Institutional Research Funding",
    match_confidence: 0.78,
    dimension_values: { fiscal_year: "2024", funding_source: "institutional" },
    source_page: 2,
    source_context:
      "Institutional funds allocated to research: $198M, including start-up packages, seed grants, and core facility support.",
    status: "auto_matched",
  },
  {
    id: "cand-044",
    extraction_run_id: "ext-004",
    raw_text: "Research awards received: $854M",
    raw_value: "854000000",
    matched_metric_id: "M_RESEARCH_AWARDS",
    matched_metric_name: "Research Awards Received",
    match_confidence: 0.76,
    dimension_values: { fiscal_year: "2024" },
    source_page: 3,
    source_context:
      "New awards totaled $854M, the highest in University history, up from $791M in FY2023.",
    status: "manual_review",
  },
  {
    id: "cand-045",
    extraction_run_id: "ext-004",
    raw_text: "Principal investigators: 2,340",
    raw_value: "2340",
    matched_metric_id: "M_PI_COUNT",
    matched_metric_name: "Principal Investigators",
    match_confidence: 0.71,
    dimension_values: { fiscal_year: "2024" },
    source_page: 4,
    source_context:
      "A total of 2,340 principal investigators were active on externally funded projects during FY2024.",
    status: "manual_review",
  },
  {
    id: "cand-046",
    extraction_run_id: "ext-004",
    raw_text: "Invention disclosures: 287",
    raw_value: "287",
    matched_metric_id: undefined,
    matched_metric_name: undefined,
    match_confidence: 0.39,
    dimension_values: { fiscal_year: "2024" },
    source_page: 5,
    source_context:
      "Technology Commercialization. Invention disclosures received: 287. Patents issued: 94. License agreements executed: 42.",
    status: "rejected",
    reviewer_id: "user-001",
    reviewed_at: "2024-09-16T13:00:00Z",
  },
  {
    id: "cand-047",
    extraction_run_id: "ext-004",
    raw_text: "Research space (sq ft): 4.2M",
    raw_value: "4200000",
    matched_metric_id: undefined,
    matched_metric_name: undefined,
    match_confidence: 0.33,
    dimension_values: { fiscal_year: "2024" },
    source_page: 6,
    source_context:
      "Facilities. Total research space: 4.2M assignable square feet across 68 buildings, an increase of 120,000 sq ft from FY2023.",
    status: "rejected",
    reviewer_id: "user-001",
    reviewed_at: "2024-09-16T13:02:00Z",
  },

  // ---------------------------------------------------------------
  // ext-005: IPEDS Ohio State — in_progress (8 candidates, many unmatched)
  // ---------------------------------------------------------------
  {
    id: "cand-048",
    extraction_run_id: "ext-005",
    raw_text: "Total fall enrollment: 61,369",
    raw_value: "61369",
    matched_metric_id: "M_ENROLLMENT_TOTAL",
    matched_metric_name: "Total Fall Enrollment",
    match_confidence: 0.91,
    dimension_values: { fiscal_year: "2024", term: "fall" },
    source_page: 1,
    source_context:
      "Ohio State University — Main Campus. Total fall enrollment: 61,369 as reported to IPEDS for Fall 2024.",
    status: "auto_matched",
  },
  {
    id: "cand-049",
    extraction_run_id: "ext-005",
    raw_text: "Retention rate: 94%",
    raw_value: "94",
    matched_metric_id: "M_RETENTION_FY",
    matched_metric_name: "First-Year Retention Rate",
    match_confidence: 0.88,
    dimension_values: { fiscal_year: "2024", cohort: "first-time full-time" },
    source_page: 3,
    source_context:
      "First-to-second year retention rate: 94% for the Fall 2023 first-time, full-time cohort.",
    status: "auto_matched",
  },
  {
    id: "cand-050",
    extraction_run_id: "ext-005",
    raw_text: "Six-year graduation: 83%",
    raw_value: "83",
    matched_metric_id: "M_GRADUATION_6YR",
    matched_metric_name: "Six-Year Graduation Rate",
    match_confidence: 0.85,
    dimension_values: { fiscal_year: "2024", cohort: "2018 entering class" },
    source_page: 4,
    source_context:
      "150% completion rate (6-year graduation): 83% for the entering class of Fall 2018.",
    status: "auto_matched",
  },
  {
    id: "cand-051",
    extraction_run_id: "ext-005",
    raw_text: "Completions awarded: 15,892",
    raw_value: "15892",
    matched_metric_id: undefined,
    matched_metric_name: undefined,
    match_confidence: 0.52,
    dimension_values: { fiscal_year: "2024" },
    source_page: 5,
    source_context:
      "Completions. Total degrees and certificates awarded in 2023-24: 15,892 across all levels.",
    status: "manual_review",
  },
  {
    id: "cand-052",
    extraction_run_id: "ext-005",
    raw_text: "FTE staff: 23,456",
    raw_value: "23456",
    matched_metric_id: undefined,
    matched_metric_name: undefined,
    match_confidence: 0.45,
    dimension_values: { fiscal_year: "2024" },
    source_page: 6,
    source_context:
      "Human Resources. Total FTE staff: 23,456 including instructional, research, public service, and support staff.",
    status: "manual_review",
  },
  {
    id: "cand-053",
    extraction_run_id: "ext-005",
    raw_text: "Total revenue all sources: $8.1B",
    raw_value: "8100000000",
    matched_metric_id: undefined,
    matched_metric_name: undefined,
    match_confidence: 0.55,
    dimension_values: { fiscal_year: "2024" },
    source_page: 7,
    source_context:
      "Finance. Total revenue from all sources: $8.1B. This includes the health system, which accounts for approximately 55% of total revenue.",
    status: "manual_review",
  },
  {
    id: "cand-054",
    extraction_run_id: "ext-005",
    raw_text: "Instructional expenses per FTE: $14,320",
    raw_value: "14320",
    matched_metric_id: undefined,
    matched_metric_name: undefined,
    match_confidence: 0.48,
    dimension_values: { fiscal_year: "2024" },
    source_page: 8,
    source_context:
      "Instructional expenses per FTE student: $14,320, calculated from IPEDS finance data using the instruction functional category.",
    status: "manual_review",
  },
  {
    id: "cand-055",
    extraction_run_id: "ext-005",
    raw_text: "Endowment per FTE: $11,234",
    raw_value: "11234",
    matched_metric_id: undefined,
    matched_metric_name: undefined,
    match_confidence: 0.50,
    dimension_values: { fiscal_year: "2024" },
    source_page: 9,
    source_context:
      "Endowment assets per FTE student: $11,234. Total endowment: $7.2B as of June 30, 2024.",
    status: "manual_review",
  },

  // ---------------------------------------------------------------
  // ext-006: Board Presentation Q4 — U of M (6 candidates)
  // ---------------------------------------------------------------
  {
    id: "cand-056",
    extraction_run_id: "ext-006",
    raw_text: "Total enrollment: 48,090",
    raw_value: "48090",
    matched_metric_id: "M_ENROLLMENT_TOTAL",
    matched_metric_name: "Total Fall Enrollment",
    match_confidence: 0.82,
    dimension_values: { fiscal_year: "2024", term: "fall" },
    source_page: 4,
    source_context:
      "Key Performance Indicators — Q4 FY2024. Total enrollment: 48,090 (preliminary). This represents a 1.2% increase over Fall 2023.",
    status: "manual_review",
  },
  {
    id: "cand-057",
    extraction_run_id: "ext-006",
    raw_text: "Endowment returns: 8.7%",
    raw_value: "8.7",
    matched_metric_id: "M_ENDOWMENT_RETURN",
    matched_metric_name: "Endowment Return Rate",
    match_confidence: 0.77,
    dimension_values: { fiscal_year: "2024" },
    source_page: 8,
    source_context:
      "Investment Performance. Endowment returns: 8.7% net of fees for FY2024, outperforming the policy benchmark by 120 basis points.",
    status: "manual_review",
  },
  {
    id: "cand-058",
    extraction_run_id: "ext-006",
    raw_text: "Research expenditures: $1.71B",
    raw_value: "1710000000",
    matched_metric_id: "M_RESEARCH_EXPENDITURE",
    matched_metric_name: "Research Expenditures",
    match_confidence: 0.80,
    dimension_values: { fiscal_year: "2024" },
    source_page: 10,
    source_context:
      "Research expenditures: $1.71B (preliminary). University of Michigan continues to rank among the top institutions nationally for total R&D spending.",
    status: "auto_matched",
  },
  {
    id: "cand-059",
    extraction_run_id: "ext-006",
    raw_text: "Retention: 97%",
    raw_value: "97",
    matched_metric_id: "M_RETENTION_FY",
    matched_metric_name: "First-Year Retention Rate",
    match_confidence: 0.75,
    dimension_values: { fiscal_year: "2024" },
    source_page: 5,
    source_context:
      "Student Success. Retention: 97% (preliminary). Official IPEDS reporting will be filed in February.",
    status: "auto_matched",
  },
  {
    id: "cand-060",
    extraction_run_id: "ext-006",
    raw_text: "Capital projects pipeline: $2.3B",
    raw_value: "2300000000",
    matched_metric_id: undefined,
    matched_metric_name: undefined,
    match_confidence: 0.38,
    dimension_values: { fiscal_year: "2024" },
    source_page: 14,
    source_context:
      "Facilities & Capital. Capital projects pipeline: $2.3B over the next five years, including the new engineering complex and hospital expansion.",
    status: "rejected",
    reviewer_id: "user-002",
    reviewed_at: "2024-09-18T09:00:00Z",
  },
  {
    id: "cand-061",
    extraction_run_id: "ext-006",
    raw_text: "Employee headcount: 51,000",
    raw_value: "51000",
    matched_metric_id: undefined,
    matched_metric_name: undefined,
    match_confidence: 0.36,
    dimension_values: { fiscal_year: "2024" },
    source_page: 12,
    source_context:
      "Human Capital. Total employee headcount: approximately 51,000 across all campuses and the health system.",
    status: "rejected",
    reviewer_id: "user-002",
    reviewed_at: "2024-09-18T09:05:00Z",
  },

  // ---------------------------------------------------------------
  // ext-007: Enrollment Data Fall 2024 — UC Berkeley (9 candidates)
  // ---------------------------------------------------------------
  {
    id: "cand-062",
    extraction_run_id: "ext-007",
    raw_text: "Total enrollment: 45,307",
    raw_value: "45307",
    matched_metric_id: "M_ENROLLMENT_TOTAL",
    matched_metric_name: "Total Fall Enrollment",
    match_confidence: 0.94,
    dimension_values: { fiscal_year: "2024", term: "fall" },
    source_page: 1,
    source_context:
      "UC Berkeley Fall 2024 Census Enrollment Summary. Total enrollment: 45,307. Undergraduate: 31,814. Graduate: 13,493.",
    status: "confirmed",
    reviewer_id: "user-002",
    reviewed_at: "2024-09-18T10:00:00Z",
  },
  {
    id: "cand-063",
    extraction_run_id: "ext-007",
    raw_text: "Undergraduate enrollment: 31,814",
    raw_value: "31814",
    matched_metric_id: "M_ENROLLMENT_UNDERGRAD",
    matched_metric_name: "Undergraduate Enrollment",
    match_confidence: 0.95,
    dimension_values: { fiscal_year: "2024", student_level: "undergraduate", term: "fall" },
    source_page: 1,
    source_context:
      "Undergraduate enrollment: 31,814. Freshmen: 9,456. Sophomores: 7,823. Juniors: 7,412. Seniors: 7,123.",
    status: "auto_matched",
  },
  {
    id: "cand-064",
    extraction_run_id: "ext-007",
    raw_text: "Graduate enrollment: 13,493",
    raw_value: "13493",
    matched_metric_id: "M_ENROLLMENT_GRAD",
    matched_metric_name: "Graduate Enrollment",
    match_confidence: 0.95,
    dimension_values: { fiscal_year: "2024", student_level: "graduate", term: "fall" },
    source_page: 1,
    source_context:
      "Graduate and professional enrollment: 13,493. Master's: 5,612. Doctoral: 6,421. Professional: 1,460.",
    status: "auto_matched",
  },
  {
    id: "cand-065",
    extraction_run_id: "ext-007",
    raw_text: "New freshmen enrolled: 9,456",
    raw_value: "9456",
    matched_metric_id: "M_FRESHMEN_ENROLLED",
    matched_metric_name: "Enrolled Freshmen",
    match_confidence: 0.84,
    dimension_values: { fiscal_year: "2024", student_level: "freshman" },
    source_page: 2,
    source_context:
      "New student enrollment. Freshmen entering Fall 2024: 9,456 from 128,196 applications, continuing the University's growth trajectory.",
    status: "auto_matched",
  },
  {
    id: "cand-066",
    extraction_run_id: "ext-007",
    raw_text: "International students: 7,823",
    raw_value: "7823",
    matched_metric_id: "M_ENROLLMENT_INTERNATIONAL",
    matched_metric_name: "International Student Enrollment",
    match_confidence: 0.82,
    dimension_values: { fiscal_year: "2024", residency: "international" },
    source_page: 3,
    source_context:
      "Enrollment by Residency. California residents: 31,242. Non-resident domestic: 6,242. International students: 7,823.",
    status: "auto_matched",
  },
  {
    id: "cand-067",
    extraction_run_id: "ext-007",
    raw_text: "Female students: 54%",
    raw_value: "54",
    matched_metric_id: undefined,
    matched_metric_name: undefined,
    match_confidence: 0.45,
    dimension_values: { fiscal_year: "2024" },
    source_page: 4,
    source_context:
      "Gender Distribution. Female students: 54%. Male students: 44%. Non-binary/other: 2%.",
    status: "rejected",
    reviewer_id: "user-002",
    reviewed_at: "2024-09-18T11:00:00Z",
  },
  {
    id: "cand-068",
    extraction_run_id: "ext-007",
    raw_text: "Transfer students enrolled: 3,912",
    raw_value: "3912",
    matched_metric_id: undefined,
    matched_metric_name: undefined,
    match_confidence: 0.47,
    dimension_values: { fiscal_year: "2024" },
    source_page: 2,
    source_context:
      "New student enrollment. Transfer students enrolled: 3,912, the vast majority from California community colleges.",
    status: "rejected",
    reviewer_id: "user-002",
    reviewed_at: "2024-09-18T11:02:00Z",
  },
  {
    id: "cand-069",
    extraction_run_id: "ext-007",
    raw_text: "Part-time students: 2,104",
    raw_value: "2104",
    matched_metric_id: undefined,
    matched_metric_name: undefined,
    match_confidence: 0.43,
    dimension_values: { fiscal_year: "2024", enrollment_basis: "part-time" },
    source_page: 1,
    source_context:
      "Enrollment Status. Full-time: 43,203. Part-time students: 2,104. Full-time percentage: 95.4%.",
    status: "rejected",
    reviewer_id: "user-002",
    reviewed_at: "2024-09-18T11:04:00Z",
  },

  // ---------------------------------------------------------------
  // ext-008: Penn State Manual Entry (3 candidates — all matched)
  // ---------------------------------------------------------------
  {
    id: "cand-070",
    extraction_run_id: "ext-008",
    raw_text: "Total enrollment: 88,432",
    raw_value: "88432",
    matched_metric_id: "M_ENROLLMENT_TOTAL",
    matched_metric_name: "Total Fall Enrollment",
    match_confidence: 0.97,
    dimension_values: { fiscal_year: "2024", term: "fall", scope: "all campuses" },
    source_page: 1,
    source_context:
      "Penn State University system-wide enrollment for Fall 2024: 88,432. University Park campus: 48,654. Commonwealth campuses: 39,778.",
    status: "confirmed",
    reviewer_id: "user-001",
    reviewed_at: "2024-09-18T12:00:00Z",
  },
  {
    id: "cand-071",
    extraction_run_id: "ext-008",
    raw_text: "Six-year graduation rate: 86%",
    raw_value: "86",
    matched_metric_id: "M_GRADUATION_6YR",
    matched_metric_name: "Six-Year Graduation Rate",
    match_confidence: 0.94,
    dimension_values: { fiscal_year: "2024", cohort: "2018 entering class", campus: "University Park" },
    source_page: 1,
    source_context:
      "Six-year graduation rate for University Park campus: 86% for the Fall 2018 cohort. System-wide rate: 73%.",
    status: "confirmed",
    reviewer_id: "user-001",
    reviewed_at: "2024-09-18T12:05:00Z",
  },
  {
    id: "cand-072",
    extraction_run_id: "ext-008",
    raw_text: "Retention rate: 93%",
    raw_value: "93",
    matched_metric_id: "M_RETENTION_FY",
    matched_metric_name: "First-Year Retention Rate",
    match_confidence: 0.95,
    dimension_values: { fiscal_year: "2024", cohort: "first-time full-time", campus: "University Park" },
    source_page: 1,
    source_context:
      "First-year retention rate at University Park: 93% for the Fall 2023 entering cohort.",
    status: "confirmed",
    reviewer_id: "user-001",
    reviewed_at: "2024-09-18T12:08:00Z",
  },
];

// ===== HELPER FUNCTIONS =====

/**
 * Returns all candidate metrics belonging to a specific extraction run.
 */
export const getCandidatesByRun = (runId: string): CandidateMetric[] =>
  candidateMetrics.filter((c) => c.extraction_run_id === runId);

/**
 * Returns all candidate metrics with a specific status (e.g., "manual_review", "rejected").
 */
export const getCandidatesByStatus = (status: string): CandidateMetric[] =>
  candidateMetrics.filter((c) => c.status === (status as CandidateStatus));

/**
 * Returns all extraction runs with a specific status (e.g., "completed", "needs_review").
 */
export const getExtractionRunsByStatus = (status: string): ExtractionRun[] =>
  extractionRuns.filter((r) => r.status === (status as ExtractionStatus));
