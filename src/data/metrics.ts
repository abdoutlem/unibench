import { MetricDefinition } from "@/types";

export const metricDefinitions: MetricDefinition[] = [
  // Financial Metrics
  {
    id: "metric-total-revenue",
    name: "Total Operating Revenue",
    shortName: "Total Revenue",
    category: "financial",
    description: "Total revenue from all operating sources including tuition, grants, and auxiliary services",
    calculationMethod: "Sum of all operating revenue line items from audited financial statements",
    unit: "currency",
    dataSource: "internal-document",
    isInternal: true,
    version: "2.0",
    effectiveDate: "2023-07-01",
    confidence: "high",
  },
  {
    id: "metric-tuition-revenue",
    name: "Net Tuition Revenue",
    shortName: "Net Tuition",
    category: "financial",
    description: "Tuition and fee revenue after institutional scholarships and discounts",
    calculationMethod: "Gross tuition - institutional aid",
    unit: "currency",
    dataSource: "ipeds",
    isInternal: false,
    version: "1.0",
    effectiveDate: "2020-07-01",
    confidence: "high",
  },
  {
    id: "metric-research-expenditure",
    name: "Research Expenditures",
    shortName: "Research $",
    category: "research",
    description: "Total research and development expenditures",
    calculationMethod: "HERD survey total R&D expenditures",
    unit: "currency",
    dataSource: "ipeds",
    isInternal: false,
    version: "1.0",
    effectiveDate: "2020-07-01",
    confidence: "high",
  },
  {
    id: "metric-endowment",
    name: "Endowment Market Value",
    shortName: "Endowment",
    category: "endowment",
    description: "Total market value of endowment assets at fiscal year end",
    calculationMethod: "Fair market value of all endowment funds",
    unit: "currency",
    dataSource: "internal-document",
    isInternal: true,
    version: "1.0",
    effectiveDate: "2020-07-01",
    confidence: "high",
  },
  // Enrollment Metrics
  {
    id: "metric-total-enrollment",
    name: "Total Fall Enrollment",
    shortName: "Enrollment",
    category: "enrollment",
    description: "Total headcount enrollment in fall semester",
    calculationMethod: "IPEDS fall enrollment headcount",
    unit: "count",
    dataSource: "ipeds",
    isInternal: false,
    version: "1.0",
    effectiveDate: "2020-07-01",
    confidence: "high",
  },
  {
    id: "metric-undergrad-enrollment",
    name: "Undergraduate Enrollment",
    shortName: "UG Enrollment",
    category: "enrollment",
    description: "Total undergraduate headcount enrollment",
    calculationMethod: "IPEDS undergraduate headcount",
    unit: "count",
    dataSource: "ipeds",
    isInternal: false,
    version: "1.0",
    effectiveDate: "2020-07-01",
    confidence: "high",
  },
  {
    id: "metric-grad-enrollment",
    name: "Graduate Enrollment",
    shortName: "Grad Enrollment",
    category: "enrollment",
    description: "Total graduate and professional headcount enrollment",
    calculationMethod: "IPEDS graduate headcount",
    unit: "count",
    dataSource: "ipeds",
    isInternal: false,
    version: "1.0",
    effectiveDate: "2020-07-01",
    confidence: "high",
  },
  // Retention & Graduation
  {
    id: "metric-retention-rate",
    name: "First-Year Retention Rate",
    shortName: "Retention",
    category: "retention",
    description: "Percentage of first-time, full-time freshmen returning for second year",
    calculationMethod: "(Returning sophomores / First-year cohort) * 100",
    unit: "percentage",
    dataSource: "ipeds",
    isInternal: false,
    version: "1.0",
    effectiveDate: "2020-07-01",
    confidence: "high",
  },
  {
    id: "metric-6yr-grad-rate",
    name: "Six-Year Graduation Rate",
    shortName: "6-Yr Grad Rate",
    category: "graduation",
    description: "Percentage of first-time, full-time freshmen graduating within 6 years",
    calculationMethod: "IPEDS 150% completion rate",
    unit: "percentage",
    dataSource: "ipeds",
    isInternal: false,
    version: "1.0",
    effectiveDate: "2020-07-01",
    confidence: "high",
  },
  {
    id: "metric-4yr-grad-rate",
    name: "Four-Year Graduation Rate",
    shortName: "4-Yr Grad Rate",
    category: "graduation",
    description: "Percentage of first-time, full-time freshmen graduating within 4 years",
    calculationMethod: "IPEDS 100% completion rate",
    unit: "percentage",
    dataSource: "ipeds",
    isInternal: false,
    version: "1.0",
    effectiveDate: "2020-07-01",
    confidence: "high",
  },
  // Faculty
  {
    id: "metric-faculty-count",
    name: "Full-Time Faculty",
    shortName: "FT Faculty",
    category: "faculty",
    description: "Total full-time instructional faculty",
    calculationMethod: "IPEDS full-time instructional staff",
    unit: "count",
    dataSource: "ipeds",
    isInternal: false,
    version: "1.0",
    effectiveDate: "2020-07-01",
    confidence: "high",
  },
  {
    id: "metric-student-faculty-ratio",
    name: "Student-to-Faculty Ratio",
    shortName: "S:F Ratio",
    category: "faculty",
    description: "Ratio of FTE students to FTE instructional faculty",
    calculationMethod: "FTE students / FTE faculty",
    unit: "ratio",
    dataSource: "common-data-set",
    isInternal: false,
    version: "1.0",
    effectiveDate: "2020-07-01",
    confidence: "high",
  },
  // Internal-only metrics
  {
    id: "metric-deferred-maintenance",
    name: "Deferred Maintenance Backlog",
    shortName: "Def. Maint.",
    category: "facilities",
    description: "Estimated cost to address all deferred maintenance needs",
    calculationMethod: "Facilities condition assessment total",
    unit: "currency",
    dataSource: "internal-document",
    isInternal: true,
    version: "1.0",
    effectiveDate: "2022-07-01",
    confidence: "medium",
  },
  {
    id: "metric-auxiliary-margin",
    name: "Auxiliary Services Margin",
    shortName: "Aux. Margin",
    category: "financial",
    description: "Net margin from auxiliary enterprises (housing, dining, parking, etc.)",
    calculationMethod: "(Auxiliary revenue - Auxiliary expenses) / Auxiliary revenue * 100",
    unit: "percentage",
    dataSource: "internal-document",
    isInternal: true,
    version: "1.0",
    effectiveDate: "2022-07-01",
    confidence: "high",
  },
];

export const getMetricById = (id: string) =>
  metricDefinitions.find((m) => m.id === id);

export const getMetricsByCategory = (category: string) =>
  metricDefinitions.filter((m) => m.category === category);

export const getInternalMetrics = () =>
  metricDefinitions.filter((m) => m.isInternal);

export const getBenchmarkableMetrics = () =>
  metricDefinitions.filter((m) => !m.isInternal);
